<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8">
		<title></title>
		<style type="text/css">
			ul {
				font-size: 0;
				width: 40%;
				margin: auto;
				background: red;
			}
			
			ul li {
				
				width: 30%;
				padding-bottom: 30%;
				margin-right: 3%;
				margin-bottom: 3%;
				display: inline-block;
			}
		</style>
	</head>

	<body>
		<ul class="changebgwrap">
			<li></li>
			<li></li>
			<li></li>
			<li></li>
			<li></li>
			<li></li>
			<li></li>
			<li></li>
			<li></li>
		</ul>
	</body>
	<script type="text/javascript">
		var changebg = function() {
			var wrap = document.querySelectorAll('.changebgwrap')[0];
			var innerbox = wrap.querySelectorAll('li');
			for(var m = 0; m < innerbox.length; m++) { //每次重置
				innerbox[m].style.background = '#fff';
			}
			for(var i = 0; i < 3; i++) { //每次变3个
				//三个随机数
				var rgb1 = Math.floor(Math.random() * 255);
				var rgb2 = Math.floor(Math.random() * 255);
				var rgb3 = Math.floor(Math.random() * 255);
				var autoboxnum = [Math.floor(Math.random() * (innerbox.length - 1)), Math.floor(Math.random() * (innerbox.length - 1)), Math.floor(Math.random() * (innerbox.length - 1))];
				~ function(i) {
					innerbox[autoboxnum[i]].style.background = 'rgb(' + rgb1 + ',' + rgb2 + ',' + rgb3 + ')';
				}(i)
			}
		}
		setInterval(changebg, 500)
	</script>

</html>